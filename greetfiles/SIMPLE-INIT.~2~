(DEFINE-FILE-INFO READTABLE "INTERLISP" PACKAGE "INTERLISP")(FILECREATED "25-Nov-2020 18:29:03" {DSK}<home>larry>ilisp>medley>greetfiles>SIMPLE-INIT.;2 4356         changes to%:  (VARS SIMPLE-INITCOMS)                    (FNS shell FIXVERSION)                    (TEMPLATES WITHOUT.PAGEHOLD)      previous date%: "24-Nov-2020 10:20:03" {DSK}<home>larry>SIMPLE-INIT.;1)(PRETTYCOMPRINT SIMPLE-INITCOMS)(RPAQQ SIMPLE-INITCOMS       [[VARS (MEDLEYDIR (UNIX-GETENV 'MEDLEYDIR]        (VARS (LISPUSERSDIRECTORIES (LIST (CONCAT MEDLEYDIR "/lispusers")                                          (CONCAT MEDLEYDIR "/library")                                          (CONCAT MEDLEYDIR "/internal/library")))              (LISPSOURCEDIRECTORIES (LIST (CONCAT MEDLEYDIR "/sources")))              (IRM.HOST&DIR (CONCAT MEDLEYDIR "/docs/dinfo/"))              (DIRECTORIES (APPEND LISPUSERSDIRECTORIES LISPSOURCEDIRECTORIES)))        [VARS (LOGINHOST/DIR (OR (UNIX-GETENV "LOGINHOST/DIR")                                 "{DSK}"))              (USERGREETFILES (LET ((BASE (CONCAT LOGINHOST/DIR "/INIT")))                                   (LIST (CONCAT BASE ".LCOM")                                         (CONCAT BASE ".DFASL")                                         BASE]        [VARS (DISPLAYFONTDIRECTORIES (LIST (CONCAT MEDLEYDIR "/fonts/dispplayfonts")                                            (CONCAT MEDLEYDIR "/fonts/altofonts")))              (INTERPRESSFONTDIRECTORIES (LIST (CONCAT MEDLEYDIR "/fonts/ipfonts")))              (POSTSCRIPTFONTDIRECTORIES (LIST (CONCAT MEDLEYDIR "/fonts/postscriptfonts"]        [P (KEYACTION 'LOCK '(LOCKTOGGLE . IGNORE]        (COMMANDS cd pwd)        (FNS shell)        [P (CL:WHEN (GETD 'XCL::ADD-WHERE-IS-DATABASE)               (XCL::ADD-WHERE-IS-DATABASE (CONCAT MEDLEYDIR "/loadups/WHEREIS.HASH"))               (XCL::ADD-WHERE-IS-DATABASE (CONCAT MEDLEYDIR "/loadups/system.hash")))]        (DECLARE%: DONTEVAL@LOAD DOEVAL@COMPILE DONTCOPY COMPILERVARS (ADDVARS (NLAMA shell)                                                                             (NLAML)                                                                             (LAMA])(RPAQ MEDLEYDIR (UNIX-GETENV 'MEDLEYDIR))(RPAQ LISPUSERSDIRECTORIES (LIST (CONCAT MEDLEYDIR "/lispusers")                                     (CONCAT MEDLEYDIR "/library")                                     (CONCAT MEDLEYDIR "/internal/library")))(RPAQ LISPSOURCEDIRECTORIES (LIST (CONCAT MEDLEYDIR "/sources")))(RPAQ IRM.HOST&DIR (CONCAT MEDLEYDIR "/docs/dinfo/"))(RPAQ DIRECTORIES (APPEND LISPUSERSDIRECTORIES LISPSOURCEDIRECTORIES))(RPAQ LOGINHOST/DIR (OR (UNIX-GETENV "LOGINHOST/DIR")                            "{DSK}"))(RPAQ USERGREETFILES (LET ((BASE (CONCAT LOGINHOST/DIR "/INIT")))                              (LIST (CONCAT BASE ".LCOM")                                    (CONCAT BASE ".DFASL")                                    BASE)))(RPAQ DISPLAYFONTDIRECTORIES (LIST (CONCAT MEDLEYDIR "/fonts/dispplayfonts")                                       (CONCAT MEDLEYDIR "/fonts/altofonts")))(RPAQ INTERPRESSFONTDIRECTORIES (LIST (CONCAT MEDLEYDIR "/fonts/ipfonts")))(RPAQ POSTSCRIPTFONTDIRECTORIES (LIST (CONCAT MEDLEYDIR "/fonts/postscriptfonts")))(KEYACTION 'LOCK '(LOCKTOGGLE . IGNORE))(DEFCOMMAND cd (DIR) (/CNDIR DIR))(DEFCOMMAND pwd NIL (DIRECTORYNAME T))(DEFINEQ(shell  [NLAMBDA LINE                                              (* ;                                                            "Edited  7-Sep-2020 13:28 by rmk:")    [SETQ LINE (CONCATLIST (for X in LINE join (LIST X " "]    (CL:WITH-OPEN-FILE (STREAM "{NODIRCORE}shell-dribble.txt" :DIRECTION :IO)           (ShellCommand LINE STREAM)           (SETFILEPTR STREAM 0)           (until (EOFP STREAM) collect (CL:READ-LINE STREAM :EOF-ERROR-P NIL :EOF-VALUE NIL]))(CL:WHEN (GETD 'XCL::ADD-WHERE-IS-DATABASE)    (XCL::ADD-WHERE-IS-DATABASE (CONCAT MEDLEYDIR "/loadups/WHEREIS.HASH"))    (XCL::ADD-WHERE-IS-DATABASE (CONCAT MEDLEYDIR "/loadups/system.hash")))(DECLARE%: DONTEVAL@LOAD DOEVAL@COMPILE DONTCOPY COMPILERVARS (ADDTOVAR NLAMA shell)(ADDTOVAR NLAML )(ADDTOVAR LAMA ))(DECLARE%: DONTCOPY  (FILEMAP (NIL (3482 3998 (shell 3492 . 3996)))))STOP