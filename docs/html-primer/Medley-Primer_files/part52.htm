<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Break Package Example                                                                                  </title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part51.htm">&lt; Previous</a><span> | </span><a href="../Medley-Primer.html">Contents</a><span> | </span><a href="part53.htm">Next &gt;</a></p><h2 style="padding-left: 35pt;text-indent: 0pt;text-align: left;">Break Package Example                                                                                  </h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 107pt;text-indent: 0pt;text-align: left;">This example illustrates the basic break package functions. A more complete explanation of the breaking functions, and the break package will follow.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 107pt;text-indent: 0pt;text-align: left;">The correct definition of <span class="s3">FACTORIAL </span>is:</p><p class="s3" style="padding-top: 10pt;padding-left: 173pt;text-indent: -30pt;line-height: 106%;text-align: left;">(defun factorial (x) (if (zerop x)</p><p class="s3" style="padding-left: 203pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1</p><p class="s3" style="padding-left: 197pt;text-indent: 0pt;line-height: 11pt;text-align: left;">(* x (factorial (1- x)))))</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 107pt;text-indent: 0pt;line-height: 107%;text-align: left;">To demonstrate the break package, we have edited in an error: <span class="s3">DUMMY </span>in the IF statement is an unbound atom, it lacks a value.</p><p class="s3" style="padding-top: 9pt;padding-left: 173pt;text-indent: -30pt;line-height: 106%;text-align: left;">((defun factorial (x) (if (zerop x)</p><p class="s3" style="padding-left: 203pt;text-indent: 0pt;line-height: 9pt;text-align: left;">dummy</p><p class="s3" style="padding-left: 197pt;text-indent: 0pt;line-height: 11pt;text-align: left;">(* x (factorial (1- x)))))</p><p style="padding-top: 5pt;padding-left: 107pt;text-indent: 0pt;text-align: left;">The evaluated function</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 143pt;text-indent: 0pt;text-align: left;">(FACTORIAL 4)</p><p style="padding-top: 7pt;padding-left: 107pt;text-indent: 0pt;line-height: 106%;text-align: left;">should return 24, but the above function has an error. <span class="s3">DUMMY </span>is an unbound atom, an atom without an assigned value, so Lisp will &quot;break&quot;. A break window appears (Figure 10-1), that has all the functionality of the typing lisp expressions into the Executive</p><p style="padding-left: 107pt;text-indent: 0pt;text-align: left;">Window (The top level), in addition to the break menu functions. Each consecutive break will move to another level &quot;down&quot;.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 158pt;text-indent: 0pt;text-align: left;"><span><img width="403" height="124" alt="image" src="Image_072.gif"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 247pt;text-indent: 0pt;text-align: left;">Figure 10-1. Break Window</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 107pt;text-indent: 0pt;text-align: left;">Move the mouse cursor into the break window and hold down the middle mouse button.</p><p style="padding-left: 107pt;text-indent: 0pt;text-align: left;">The Break Menu will appear. Choose BT. Another menu, called the stack menu, will appear beside the break window. Choosing stack items from this menu will display</p><p style="padding-left: 107pt;text-indent: 0pt;text-align: justify;">another window. This window displays the functionâ€™s local variable bindings, or values (see Figure 10-2). This new window, titled FACTORlAL Frame, is an inspector window (see inspector Chapter 17).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 140pt;text-indent: 0pt;text-align: left;"><span><img width="455" height="230" alt="image" src="Image_073.gif"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 208pt;text-indent: 0pt;text-align: left;">Figure 10-2. Back Trace of the System Stack</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 107pt;text-indent: 0pt;text-align: left;">From the break window, you can call the editor for the function <span class="s3">FACTORIAL </span>by <span class="s3">middle- buttoning on the word FACTORIAL and selecting DisplayEdit from the menu that pops up</span>.</p><p style="padding-top: 7pt;padding-left: 107pt;text-indent: 0pt;text-align: left;">Replace the unbound atom <span class="s3">DUMMY </span>with 1. Exit the editor .</p><p style="padding-top: 7pt;padding-left: 107pt;text-indent: 0pt;text-align: left;">The function is fixed, and you can restart it from the last call on the stack. (It does not have to be started again from the Top Level.) To begin again from the last call on the stack, choose the last (top) <span class="s3">FACTORIAL </span>call in the BT menu. Select R<span class="s3">EVERT </span>from the middle button break window, or type it into the window. The break window will close, and a new one will appear with the message: <span class="s9">Breakpoint at FACTORIAL</span></p><p style="padding-top: 7pt;padding-left: 107pt;text-indent: 0pt;line-height: 107%;text-align: left;">To start execution with this last call to <span class="s3">FACTORIAL </span>, choose OK from the middle button break menu. The break window will disappear, and the correct answer, 24, will be</p><p style="padding-left: 107pt;text-indent: 0pt;line-height: 11pt;text-align: left;">returned to the top level.</p><p class="s6" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">10. BREAKPACKAGE</p><p style="padding-left: 35pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="665" height="1" alt="image" src="Image_074.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part51.htm">&lt; Previous</a><span> | </span><a href="../Medley-Primer.html">Contents</a><span> | </span><a href="part53.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
