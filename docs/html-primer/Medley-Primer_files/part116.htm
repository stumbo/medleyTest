<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Free Menu Example                                                                                          </title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part115.htm">&lt; Previous</a><span> | </span><a href="../Medley-Primer.html">Contents</a><span> | </span><a href="part117.htm">Next &gt;</a></p><h2 style="padding-left: 35pt;text-indent: 0pt;text-align: left;">Free Menu Example                                                                                          </h2><p style="padding-top: 9pt;padding-left: 107pt;text-indent: 0pt;text-align: left;">Free menus can be created and formatted automatically! It is done with the function</p><p class="s3" style="padding-left: 107pt;text-indent: 0pt;text-align: left;">FM.FORMATMENU<span class="p">. This function takes one argument, a description of the menu. The</span></p><p style="padding-left: 107pt;text-indent: 0pt;text-align: left;">description is a list of lists; each internal list describes one row of the free menu. A free menu row can have more than one item in it, so there are really lists of lists of lists! It really isn’t hard, though, as you can see from the following example:</p><p class="s3" style="padding-top: 7pt;padding-left: 167pt;text-indent: -24pt;line-height: 88%;text-align: left;">(SETQ ExampleMenu (FM.FORMATMENU</p><p class="s3" style="padding-left: 215pt;text-indent: -24pt;line-height: 88%;text-align: left;">’(((TYPE TITLE LABEL TitlesDoNothing) TYPE 3STATE LABEL Example3State))</p><p class="s3" style="padding-left: 203pt;text-indent: 0pt;line-height: 10pt;text-align: left;">((TYPE EDITSTART LABEL PressToStartEditing</p><p class="s3" style="padding-left: 209pt;text-indent: 96pt;line-height: 88%;text-align: left;">ITEMS (EDITEM)) (TYPE EDIT ID EDITEM LABEL &quot;&quot;))</p><p class="s3" style="padding-left: 191pt;text-indent: 0pt;line-height: 10pt;text-align: left;">(WINDOWPROPS TITLE &quot;Example Does Nothing&quot;))))</p><p style="padding-top: 5pt;padding-left: 107pt;text-indent: 0pt;line-height: 107%;text-align: justify;">The first row has two items in it: one is a <span class="s3">TITLE</span>, and the second is a <span class="s3">3STATE </span>item. The second row also has two items. The second, the <span class="s3">EDIT </span>item, is invisible, because its label is an empty string. The caret will appear for editing, however, if the <span class="s3">EDITSTART </span>item is chosen. Windowprops can appear as part of the description of the menu, because a</p><p style="padding-left: 107pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">menu is, affer all, just a special window. You can specify not only the title with</p><p class="s3" style="padding-left: 107pt;text-indent: 0pt;text-align: justify;">WINDOWPROPS<span class="p">, but also the position of the free menu, using the &quot;left&quot; and &quot;bottom&quot;</span></p><p style="padding-left: 106pt;text-indent: 0pt;text-align: left;">properties, and the width of the border in pixels, with the &quot;border&quot; property. Evaluating this expression will return a window. You can see the menu by using the function <span class="s3">OPENW</span>. The following example illustrates this:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 235pt;text-indent: 0pt;text-align: left;">Figure 20.1. Example Free Menu</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 107pt;text-indent: 0pt;text-align: justify;">The next example shows you what the menu looks like after the <span class="s3">EDITSTART </span>item,</p><p class="s3" style="padding-left: 106pt;text-indent: 0pt;text-align: justify;">PressToStartEditing<span class="p">, has been chosen.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 185pt;text-indent: 0pt;text-align: left;">Figure 20.2. Free menu after <span class="s3">EDITSTART </span>Item Chosen</p><p style="padding-top: 7pt;padding-left: 107pt;text-indent: 0pt;line-height: 107%;text-align: left;">The following example shows the menu with the <span class="s3">3STATE </span>item in its <span class="s3">T </span>state, with the item highlighted. (In the previous bitmaps, it was in its neutral state.)</p><p style="padding-left: 35pt;text-indent: 0pt;line-height: 11pt;text-align: left;">.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 182pt;text-indent: 0pt;text-align: left;">Figure 20.3. Free menu with <span class="s3">3STATE </span>Item in its <span class="s3">T </span>State</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 107pt;text-indent: 0pt;line-height: 107%;text-align: left;">Finally, Figure 20.4 shows the <span class="s3">3STATE </span>item in its <span class="s3">NIL </span>state, with a diagonal line through the item</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 169pt;text-indent: 0pt;text-align: left;">Figure 20.4 Free menu with the <span class="s3">3STATE </span>item in its <span class="s3">NIL </span>State</p><p style="padding-top: 7pt;padding-left: 107pt;text-indent: 0pt;text-align: left;">If you would like to specify the layout yourself, you can do that too. See the <i>Lisp Library Packages Manual </i>for more information.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part115.htm">&lt; Previous</a><span> | </span><a href="../Medley-Primer.html">Contents</a><span> | </span><a href="part117.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
