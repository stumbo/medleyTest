%PDF-1.3
%‚„œ”
2 0 obj
<<
/Length 4332
>>
stream
BT
/TT2 1 Tf
10 0 0 10 537.9899 15 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(23-1)Tj
ET
0 G
0 J 0 j 1 w 10 M []0 d
1 i 
54.01 27.5 m
558.01 27.5 l
S
BT
10 0 0 10 54 17.21 Tm
(Medley for the Novice, Release 2.0)Tj
/TT4 1 Tf
18 0 0 18 54 729.97 Tm
(23.  SIMPLE INTERACTIONS WITH THE CURSOR, A)Tj
2 -1 TD
(BITMAP, AND A WINDOW)Tj
ET
6 w 
54.01 704.99 m
534.01 704.99 l
S
BT
/F1 1 Tf
10 0 0 10 126 654.26 Tm
(The purpose of this chapter is to show you how to build a moderately tricky interactive)Tj
0 -1.2 TD
(interface with the various Medley display facilities. In particular how to move a large)Tj
T*
(bitmap \(larger than 16 x 16 pixels\) around inside a window. To do this, you will change)Tj
T*
(the )Tj
/TT6 1 Tf
1.778 0 TD
(CURSORINFN)Tj
/F1 1 Tf
6.001 0 TD
( and )Tj
/TT6 1 Tf
2.297 0 TD
(CURSOROUTFN)Tj
/F1 1 Tf
6.6011 0 TD
( properties of the window. If you would also like to)Tj
-16.677 -1.323 TD
(then set the bitmap in place in the window, you must reset the )Tj
/TT6 1 Tf
29.227 0 TD
(BUTTONEVENTFN)Tj
/F1 1 Tf
7.8013 0 TD
(. This)Tj
-37.0283 -1.323 TD
(chapter explains how to create the mobile bitmap.)Tj
/TT4 1 Tf
14 0 0 14 54 546.62 Tm
(GETMOUSESTATE Example Function)Tj
ET
1 w 
54.01 543.03 m
534.01 543.03 l
S
BT
/F1 1 Tf
10 0 0 10 126 524.8 Tm
(One function that you will use to "trace the cursor" \(have a bitmap follow the cursor)Tj
0 -1.2 TD
(around in a window\) is )Tj
/TT6 1 Tf
10.835 0 TD
(GETMOUSESTATE)Tj
/F1 1 Tf
7.8 0 TD
(. This function finds the current state of the.)Tj
-18.635 -1.323 TD
(mouse, and resets global system variables, such as )Tj
/TT6 1 Tf
23.653 0 TD
(LASTMOUSEX)Tj
/F1 1 Tf
6 0 TD
( and )Tj
/TT6 1 Tf
2.297 0 TD
(LASTMOUSEY)Tj
/F1 1 Tf
6 0 TD
(.)Tj
-37.95 -2.023 TD
(As an example of how this function works, create a window by typing)Tj
/TT6 1 Tf
3.6 -1.777 TD
(\(SETQ EXAMPLE.WINDOW \(CREATEW\)\))Tj
/F1 1 Tf
-3.6 -2.023 TD
(into the Executive Window, and sweeping out a window. Now, type in the function)Tj
/TT6 1 Tf
3.6 -1.777 TD
(\(DEFINEQ \(PRINTCOORDS \(W\))Tj
0 -1 TD
(     \(PROMPTPRINT "\(" LASTMOUSEX ", "LASTMOUSEY "\)"\))Tj
T*
(     \(BLOCK\))Tj
T*
(     \(GETMOUSESTATE\)\)\))Tj
/F1 1 Tf
-3.6 -2.823 TD
(This function calls )Tj
/TT6 1 Tf
8.797 0 TD
(GETMOUSESTATE)Tj
/F1 1 Tf
7.8013 0 TD
( and then prints the new values of )Tj
/TT6 1 Tf
16.076 0 TD
(LASTMOUSEX)Tj
/F1 1 Tf
6.001 0 TD
( and)Tj
/TT6 1 Tf
-38.6752 -1.323 TD
(LASTMOUSEY)Tj
/F1 1 Tf
6.001 0 TD
( in the promptwindow. To use it, type)Tj
/TT6 1 Tf
-2.401 -1.9 TD
(\(WINDOWPROP EXAMPLE.WINDOW íCURSORMOVEDFN íPRINTCOORDS\))Tj
/F1 1 Tf
-3.6 -2.023 TD
(The window property )Tj
/TT6 1 Tf
10.13 0 TD
(CURSORMOVEDFN)Tj
/F1 1 Tf
7.8 0 TD
(, used in this example, will evaluate the function)Tj
/TT6 1 Tf
-17.93 -1.323 TD
(PRINTCOORDS)Tj
/F1 1 Tf
6.6 0 TD
( each time the cursor is moved when it is inside the window. The position)Tj
-6.6 -1.323 TD
(coordinates of the mouse cursor will appear in the prompt window. \(See Figure 23.1.\))Tj
2.103 -2.9 TD
(Figure 23.1. Current Position Coordinates of Mouse Cursor  in Prompt Window)Tj
/TT4 1 Tf
14 0 0 14 54 202.24 Tm
(Advising GETMOUSESTATE)Tj
ET
54.01 198.65 m
534.01 198.65 l
S
BT
/F1 1 Tf
10 0 0 10 126 180.42 Tm
(For the bitmap to follow the moving mouse cursor, the function )Tj
/TT6 1 Tf
29.428 0 TD
(GETMOUSESTATE)Tj
/F1 1 Tf
7.8013 0 TD
( is)Tj
-37.2293 -1.323 TD
(advised. When you advise a function, you can add new commands to the function)Tj
0 -1.2 TD
(without knowing how it is actually implemented. The syntax for advise is)Tj
/TT6 1 Tf
3.6 -1.9 TD
(\(ADVISE )Tj
/F2 1 Tf
4.8008 0 TD
(fn when where what)Tj
/TT6 1 Tf
9.258 0 TD
(\))Tj
/F2 1 Tf
-17.6588 -2.023 TD
(fn)Tj
/F1 1 Tf
0.944 0 TD
( is the name of the function to be augmented. )Tj
/F2 1 Tf
21.151 0 TD
(when)Tj
/F1 1 Tf
2.444 0 TD
( and )Tj
/F2 1 Tf
2.297 0 TD
(where)Tj
/F1 1 Tf
2.721 0 TD
( are optional)Tj
-29.557 -1.2 TD
(arguments. )Tj
/F2 1 Tf
5.556 0 TD
(when)Tj
/F1 1 Tf
2.444 0 TD
( specifies whether the change should be made before, after, or around)Tj
-8 -1.2 TD
(the body of the function. The values expected are )Tj
/TT6 1 Tf
22.872 0 TD
(BEFORE)Tj
/F1 1 Tf
3.6006 0 TD
(, )Tj
/TT6 1 Tf
0.556 0 TD
(AFTER)Tj
/F1 1 Tf
3.0005 0 TD
(, or )Tj
/TT6 1 Tf
1.778 0 TD
(AROUND)Tj
/F1 1 Tf
3.6006 0 TD
(.)Tj
/F2 1 Tf
-35.4077 -2.023 TD
(what)Tj
/F1 1 Tf
2.315 0 TD
( specifies the additional code.)Tj
ET
endstream
endobj
3 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/F1 4 0 R
/F2 5 0 R
/TT2 6 0 R
/TT4 7 0 R
/TT6 8 0 R
>>
/ExtGState <<
/GS1 9 0 R
>>
>>
endobj
12 0 obj
<<
/Length 3723
>>
stream
BT
/TT2 1 Tf
10 0 0 10 54 15 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(23-2)Tj
ET
0 G
0 J 0 j 1 w 10 M []0 d
1 i 
54.01 27.5 m
558.01 27.5 l
S
BT
10 0 0 10 402.38 17.21 Tm
(Medley for the Novice, Release 2.0)Tj
/F1 1 Tf
-34.838 74.479 TD
( )Tj
/TT2 1 Tf
0.278 0 TD
(23.  SIMPLE INTERACTIONS WITH CURSOR, BITMAP, AND WINDOW)Tj
ET
54.01 759.23 m
558.01 759.23 l
S
BT
/F1 1 Tf
10 0 0 10 126 730.26 Tm
(In the example, the additional code, )Tj
/F2 1 Tf
16.836 0 TD
(what)Tj
/F1 1 Tf
2.315 0 TD
(, moves the bitmap to the position of the)Tj
-19.151 -1.2 TD
(mouse cursor. The function )Tj
/TT6 1 Tf
12.851 0 TD
(GETNOUSESTATE)Tj
/F1 1 Tf
7.8013 0 TD
( will be )Tj
/TT6 1 Tf
3.613 0 TD
(ADVISE)Tj
/F1 1 Tf
3.6006 0 TD
(d when the mouse moves)Tj
-27.8659 -1.323 TD
(into the window. This will cause the bitmap to follow the mouse cursor. )Tj
/TT6 1 Tf
33.172 0 TD
(ADVISE)Tj
/F1 1 Tf
3.6006 0 TD
( will be)Tj
-36.7726 -1.323 TD
(undone when the mouse leaves the window or when a mouse button is pushed. The)Tj
/TT6 1 Tf
0 -1.2 TD
(ADVISE)Tj
/F1 1 Tf
3.6006 0 TD
(ing will be done and undone by changing the )Tj
/TT6 1 Tf
20.892 0 TD
(CURSORINFN)Tj
/F1 1 Tf
6.001 0 TD
(, )Tj
/TT6 1 Tf
0.556 0 TD
(CURSOROUTFN)Tj
/F1 1 Tf
6.6011 0 TD
(, and)Tj
/TT6 1 Tf
-37.6506 -1.323 TD
(BUTTONEVENTFN)Tj
/F1 1 Tf
7.8013 0 TD
( for the window.)Tj
/TT4 1 Tf
14 0 0 14 54 620.16 Tm
(Changing the Cursor)Tj
ET
54.01 616.57 m
534.01 616.57 l
S
BT
/F1 1 Tf
10 0 0 10 126 588.34 Tm
(One last part of the example, to give the impression that a bitmap is dragged around a)Tj
0 -1.2 TD
(window, the original cursor should disappear. Try typing:)Tj
/TT6 1 Tf
3.6 -1.777 TD
(\(CURSOR \(CURSORCREATE \(BITMAPCREATE 1 l\) 1 1])Tj
/F1 1 Tf
-3.6 -2.023 TD
(into the Executive Window. This causes the original cursor to disappear. It reappears)Tj
0 -1.2 TD
(when you type)Tj
/TT6 1 Tf
3.6 -1.777 TD
(\(CURSOR T\))Tj
/F1 1 Tf
-3.6 -2.023 TD
(When the cursor is invisible, and the bitmap moves as the cursor moves, the illusion is)Tj
0 -1.2 TD
(given that the bitmap is dragged around the window.)Tj
/TT4 1 Tf
14 0 0 14 54 431.16 Tm
(Functions for Tracing the Cursor)Tj
ET
54.01 427.57 m
534.01 427.57 l
S
BT
/F1 1 Tf
10 0 0 10 126 399.34 Tm
(To actually have a bitmap trace \(follow\) the cursor, the environment must be set up so)Tj
T*
(that when the cursor enters the tracing region the trace is turned on, and when the)Tj
T*
(cursor leaves the tracing region the trace is turned off. The function)Tj
/TT6 1 Tf
T*
(Establish/Trace/Data)Tj
/F1 1 Tf
12.002 0 TD
( will do this. Type it in as it appears \(include comments that)Tj
-12.002 -1.323 TD
(will help you remember what the function does\).)Tj
/TT6 1 Tf
0 -2.777 TD
(\(DEFINEQ \(Establish/Trace/Data)Tj
2.4 -1 TD
([LAMBDA \(wnd tracebitmap cursor/rightoffset cursor/heightoffset)Tj
1.2 -1 TD
(GCGAGP\))Tj
0 -2 TD
(\(* * This function is called to establish the data to trace)Tj
0 -1 TD
(the desired bitmap. "wnd" is the window in which the tracing)Tj
T*
(is to take place, "tracebitmap" is the tracing bitmap,)Tj
T*
("cursor/rightoffset" and "cursor/heightoffset" are integers)Tj
T*
(which detemine the hotspot of the tracing bitmap.)Tj
T*
(As "cursor/heightoffset and "cursor/rightoffset" increase)Tj
T*
(the cursor hotspot moves up and to the right.)Tj
T*
(If GCGAGP is non-NIL, GCGAG will be disabled.\))Tj
-3.6 -2.7 TD
(\(PROG NIL)Tj
3.6 -2 TD
(\(if \(OR \(NULL wnd\))Tj
0 -1 TD
(        \(NULL tracebitmap\)\))Tj
T*
(    then \(PLAYTUNE \(LIST \(CONS 1000 4000\)\)\))Tj
T*
(         \(RETURN\)\))Tj
T*
(\(if GCGAGP)Tj
T*
(    then \(GCGAG\)\))Tj
0 -2 TD
(  \(* * Create a blank cursor.\))Tj
T*
(\(SETQ *BLANKCURSOR*\(BITMAPCREATE 16 16\)\))Tj
0 -1 TD
(\(SETQ *BLANKTRACECURSOR*\(CURSORCREATE *BLANKCURSOR*\)\))Tj
ET
endstream
endobj
13 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/F1 4 0 R
/F2 5 0 R
/TT2 6 0 R
/TT4 7 0 R
/TT6 8 0 R
>>
/ExtGState <<
/GS1 9 0 R
>>
>>
endobj
15 0 obj
<<
/Length 3178
>>
stream
BT
/TT2 1 Tf
10 0 0 10 537.9899 15 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(23-3)Tj
ET
0 G
0 J 0 j 1 w 10 M []0 d
1 i 
54.01 27.5 m
558.01 27.5 l
S
BT
10 0 0 10 54 17.21 Tm
(Medley for the Novice, Release 2.0)Tj
17.729 74.479 TD
( 23.  SIMPLE INTERACTIONS WITH CURSOR, BITMAP, AND WINDOW)Tj
ET
54.01 759.29 m
558.01 759.29 l
S
BT
/TT6 1 Tf
10 0 0 10 162 721.49 Tm
(  \(* * Set the CURSOR IN and OUT FNS for wnd to the)Tj
0 -1 TD
(  following:\))Tj
0 -2 TD
(\(WINDOWPROP wnd \(QUOTE CURSORINFN\))Tj
0 -1 TD
(            \(FUNCTION SETUP/TRACE\)\))Tj
T*
(\(WINDOWPROP wnd \(QUOTE CURSOROUTFN\))Tj
T*
(            \(FUNCTION UNTRACE/CURSOR\)\))Tj
0 -2 TD
(  \(* * To allow the bitmap to be set down in the window by)Tj
0 -1 TD
(   pressing a mouse button, include this line.)Tj
T*
(   Otherwise, it is not needed\))Tj
0 -2 TD
(\(WINDOWPROP wnd \(QUOTE BUTTONEVENTFN\))Tj
0 -1 TD
(            \(FUNCTION PLACE/BITMAP/IN/WINDOW\)\))Tj
T*
(\(WINDOWPROP wnd \(QUOTE CURSOROUTFN\))Tj
0 -2 TD
(  \(* * Set up Global Variables for the tracing operation\))Tj
T*
(\(SETQ *TRACEBITMAP* tracebitmap)Tj
0 -1 TD
(\(SETQ *RIGHTTRACE/OFFSET*\(OR cursor/rightoffset 0\)\))Tj
T*
(\(SETQ *HEIGHTTRACE/OFFSET*\(OR cxursor heightoffset 0\)\))Tj
T*
(\(SETQ *OLDBITMAPPOSITION*\(BITMAPCREATE \(BITMAPWIDTH )Tj
T*
(   tracebitmap\))Tj
21.6 -1 TD
(   \(BITMAPHEIGHT )Tj
-21.6 -1 TD
(   tracebitmap\)\)\))Tj
T*
(\(SETQ *TRACEWINDOW* wnd]\)\))Tj
/F1 1 Tf
-3.6 -3.823 TD
(When the function )Tj
/TT6 1 Tf
8.851 0 TD
(Establish/Trace/Data)Tj
/F1 1 Tf
12.002 0 TD
( is called, the functions )Tj
/TT6 1 Tf
10.927 0 TD
(SETUP/TRACE)Tj
/F1 1 Tf
6.598 0 TD
( and)Tj
/TT6 1 Tf
-38.378 -1.323 TD
(UNTRACE/CURSOR)Tj
/F1 1 Tf
8.4 0 TD
( will be installed as the values of the windowís )Tj
/TT6 1 Tf
21.654 0 TD
(WlNDOWPROPS)Tj
/F1 1 Tf
6.6011 0 TD
(, and)Tj
-36.6551 -1.323 TD
(will be used to turn the trace on and off. Those functions should be typed in, then:)Tj
/TT6 1 Tf
0 -2.777 TD
(\(DEFINEQ \(SETUP/TRACE)Tj
2.4 -1 TD
([LAMBDA \(wnd\))Tj
1.2 -2 TD
(\(* * This function is wndís CURSORINFN.)Tj
0 -1 TD
(It simply resets the last trace position and the current)Tj
T*
(tracing region.  It also readvises GETMOUSESTATE to perform)Tj
T*
(the trace function after each call.\))Tj
-3.6 -2 TD
(    \(if *TRACEBITMAP*)Tj
3.6 -1 TD
(then \(SETQ *LAST-TRACE-XPOS* -2000\))Tj
2.4 -1 TD
(\(SETQ *LAST-TRACE-YPOS* -2000\))Tj
T*
(\(SETQ *WNDREGION* \(WINDOWPROP wnd \(QUOTE REGION\)\)\))Tj
T*
(\(WINDOWPROP wnd \(QUOTE TRACING\))Tj
2.4 -1 TD
(T\))Tj
-4.8 -2 TD
(\(* * make the cursor disappear\))Tj
T*
(\(CURSOR *BLANKTRACECURSOR*\))Tj
0 -1 TD
(\(ADVISE \(QUOTE GETMOUSESTATE\))Tj
3.6 -1 TD
(\(QUOTE AFTER\))Tj
T*
(NIL)Tj
T*
(\(QUOTE \(TRACE/CURSOR]\)\))Tj
-7.2 -2 TD
(\(DEFINEQ \(UNTRACE/CURSOR)Tj
0 -1 TD
( [LAMBDA \(wnd\))Tj
3.6 -2 TD
(\(* * This function is wndís CURSOROUTFN. The function first )Tj
0 -1 TD
(checks if the cursor is currently being traced;  if so, it )Tj
T*
(replaces the tracing bitmap with what is under it and then )Tj
T*
(turns tracing off by unadvising GETMOUSESTATE and setting the )Tj
T*
(TRACING window property of *TRACEWINDOW* to NIL.\))Tj
-3.6 -2 TD
( \(if \(WINDOWPROP *TRACEWINDOW*\(QUOTE TRACING\)\))Tj
ET
endstream
endobj
16 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/F1 4 0 R
/TT2 6 0 R
/TT6 8 0 R
>>
/ExtGState <<
/GS1 9 0 R
>>
>>
endobj
18 0 obj
<<
/Length 3011
>>
stream
BT
/TT2 1 Tf
10 0 0 10 54 15 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(23-4)Tj
ET
0 G
0 J 0 j 1 w 10 M []0 d
1 i 
54.01 27.5 m
558.01 27.5 l
S
BT
10 0 0 10 402.38 17.21 Tm
(Medley for the Novice, Release 2.0)Tj
/F1 1 Tf
-34.838 74.479 TD
( )Tj
/TT2 1 Tf
0.278 0 TD
(23.  SIMPLE INTERACTIONS WITH CURSOR, BITMAP, AND WINDOW)Tj
ET
54.01 759.23 m
558.01 759.23 l
S
BT
/TT6 1 Tf
10 0 0 10 162 731.49 Tm
(then \(BITBLT *OLDBITMAPPOSITION* 0 0 \(SCREENBITMAP\))Tj
4.8 -1 TD
(\(IPLUS \(CAR *WNDREGION*\)*LAST-TRACE-XPOS*\))Tj
T*
(\(IPLUS \(CADR *WNDREGION*\)*LAST-TRACE-YPOS*\)\))Tj
-2.4 -1 TD
(\(WINDOWPROP *TRACEWINDOW*\(QUOTE TRACING\))Tj
12 -1 TD
(NIL\)\))Tj
-18 -2 TD
[( )-2999.9(\(* * replace the original cursor shape\))]TJ
T*
( \(CURSOR T\))Tj
T*
[( )-2999.9(\(* * unadvise GETMOUSESTATE\))]TJ
T*
( \(UNADVISE \(QUOTE GETMOUSESTATE]\)\))Tj
/F1 1 Tf
0 -2.823 TD
(The function )Tj
/TT6 1 Tf
6.148 0 TD
(SETUP/TRACE)Tj
/F1 1 Tf
6.6011 0 TD
( has a helper function that you must also type in. It is)Tj
/TT6 1 Tf
-12.7491 -1.323 TD
(TRACE/CURSOR)Tj
/F1 1 Tf
7.2012 0 TD
(:)Tj
/TT6 1 Tf
-7.2012 -1.9 TD
(\(DEFINEQ \(TRACE/CURSOR)Tj
0 -1 TD
( [LAMBDA NIL)Tj
3.6 -2.7 TD
(\(* * This function does the actual BITBLTing of the tracing )Tj
0 -1 TD
(bitmap.  This function is called after a GETMOUSESTATE, while )Tj
T*
(tracing.\))Tj
-3.6 -1.7 TD
( \(PROG \(\(xpos \(IDIFFERENCE \(LASTMOUSEX *TRACEWINDOW*\) )Tj
8.4 -1 TD
(*RIGHTTRACE/OFFSET*\)\))Tj
-4.8 -1.7 TD
(  \(ypos \(IDIFFERENCE \(LASTMOUSEY *TRACEWINDOW*\) )Tj
4.8 -1 TD
(*HEIGHTTRACE/OFFSET*\)\))Tj
-4.8 -1.7 TD
(\(* * If there is an error in the function, press the right )Tj
0 -1 TD
(button to unadvise the function.  This will keep the machine )Tj
T*
(from locking up.\))Tj
0 -1.7 TD
(\(if \(LASTMOUSESTATE RIGHT\))Tj
2.4 -1 TD
(then \(UNADVISE \(QUOTE GETMOUSESTATE\)\)\))Tj
-2.4 -1 TD
(\(if \(AND \(NEQ xpos *LAST-TRACE-XPOS*\))Tj
4.8 -1 TD
( \(NEQ ypos *LAST-TRACE-YPOS*\)\))Tj
-2.4 -1 TD
(then)Tj
-2.4 -1.7 TD
(\(* * Restore what was under the old position of the trace )Tj
0 -1.2 TD
(bitmap)Tj
3.6 0.2 TD
(\))Tj
-1.2 -1.9 TD
(\(BITBLT *OLDBITMAPPOSITION* 0 0 \(SCREENBITMAP\))Tj
2.4 -1 TD
(\(IPLUS \(CAR *WNDREGION*\)*LAST-TRACE-XPOS*\))Tj
T*
(\(IPLUS \(CADR *WNDREGION*\)*LAST-TRACE-YPOS*\)\))Tj
-4.8 -1.7 TD
(\(* * Save what will be under the position of the new trace )Tj
0 -1 TD
(bitmap\))Tj
2.4 -1.7 TD
(\(BITBLT \(SCREENBITMAP\))Tj
2.4 -1 TD
(\(IPLUS \(CAR *WNDREGION*\))Tj
2.4 -1 TD
(xpos\))Tj
-2.4 -1 TD
(\(IPLUS \(CADR *WNDREGION*\))Tj
2.4 -1 TD
(ypos\)*OLDBITMAPPOSITION* 0 0\))Tj
-7.2 -1.7 TD
(\(* * BITBLT the trace bitmap onto the new position of the )Tj
0 -1 TD
(mouse\))Tj
2.4 -1.7 TD
(\(BITBLT *TRACEBITMAP* 0 0 \(SCREENBITMAP\))Tj
2.4 -1 TD
(\(IPLUS \(CAR *WNDREGION*\))Tj
2.4 -1 TD
(xpos\))Tj
-2.4 -1 TD
(\(IPLUS \(CADR *WNDREGION*\))Tj
2.4 -1 TD
(ypos\))Tj
-2.4 -1 TD
(NIL NIL \(QUOTE INPUT\))Tj
T*
(\(QUOTE PAINT\)\))Tj
-4.8 -1.7 TD
(\(* * Save the current position as the last trace position.\))Tj
2.4 -1.7 TD
(\(SETQ *LAST-TRACE-XPOS* xpos\))Tj
ET
endstream
endobj
19 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/F1 4 0 R
/TT2 6 0 R
/TT6 8 0 R
>>
/ExtGState <<
/GS1 9 0 R
>>
>>
endobj
21 0 obj
<<
/Length 2694
>>
stream
BT
/TT2 1 Tf
10 0 0 10 537.9899 15 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(23-5)Tj
ET
0 G
0 J 0 j 1 w 10 M []0 d
1 i 
54.01 27.5 m
558.01 27.5 l
S
BT
10 0 0 10 54 17.21 Tm
(Medley for the Novice, Release 2.0)Tj
17.729 74.479 TD
( 23.  SIMPLE INTERACTIONS WITH CURSOR, BITMAP, AND WINDOW)Tj
ET
54.01 759.29 m
558.01 759.29 l
S
BT
/TT6 1 Tf
10 0 0 10 186 731.49 Tm
(\(SETQ *LAST-TRACE-YPOS* ypos]\)\))Tj
/F1 1 Tf
-6 -3.523 TD
(The helper function for )Tj
/TT6 1 Tf
10.925 0 TD
(UNTRACE/CURSOR)Tj
/F1 1 Tf
8.4014 0 TD
(, called )Tj
/TT6 1 Tf
3.538 0 TD
(UNDO/TRACE/DATA)Tj
/F1 1 Tf
9.0015 0 TD
(, must also be)Tj
-31.8658 -1.323 TD
(added to the environment:)Tj
/TT6 1 Tf
0 -3.677 TD
(\(DEFINEQ \(UNDO/TRACE/DATA)Tj
2.4 -1 TD
([LAMBDA NIL)Tj
1.2 -2 TD
(     \(* * The purpose of this function is to turn tracing off )Tj
3.6 -1 TD
(and to free up the global variables used to trace the )Tj
T*
(bitmap so that they can be garbage collected.\))Tj
0 -2 TD
(\(* * Check if the cursor is currently being traced.)Tj
0 -1 TD
(It so, turn it off.\))Tj
-3.6 -2 TD
(\(UNTRACE/CURSOR\))Tj
0 -1 TD
(\(WINDOWPROP *TRACEWINDOW*\(QUOTE CURSORINFN\))Tj
T*
(            NIL\))Tj
T*
(\(WINDOWPROP *TRACEWINDOW*\(QUOTE CURSOROUTFN\))Tj
T*
(            NIL\))Tj
T*
(\(SETQ *TRACEBITMAP* NIL\))Tj
T*
(\(SETQ *RIGHTTRACE/OFFSET* NIL\))Tj
T*
(\(SETQ *HEIGHTTRACE/OFFSET* NIL\))Tj
T*
(\(SETQ *OLDBITMAPPOSITION* NIL\))Tj
T*
(\(SETQ *TRACEWINDOW* NIL\))Tj
0 -2 TD
(     \(* * Turn GCGAG on\))Tj
T*
(\(GCGAG T]\)\))Tj
/F1 1 Tf
-3.6 -2.823 TD
(Finally, if you included the )Tj
/TT6 1 Tf
12.724 0 TD
(WlNDOWPROP)Tj
/F1 1 Tf
6.001 0 TD
( to allow the user to place the bitmap in the)Tj
-18.725 -1.323 TD
(window by pressing a mouse button, you must also type this function:)Tj
/TT6 1 Tf
0 -2.777 TD
(\(DEFINEQ \(PLACE/BITMAP/IN/WINDOW)Tj
2.4 -1 TD
([LAMBDA \(wnd\))Tj
1.2 -2 TD
(\(UNADVISE \(GETMOUSESTATE\)\))Tj
0 -1 TD
(\(BITBLT *TRACEBITMAP* 0 0 \(SCREENBITMAP\))Tj
T*
(     \(IPLUS \(CAR *WNDREGION*\))Tj
T*
(          xpos\))Tj
T*
(     \(IPLUS \(CADR *WNDREGION*\))Tj
T*
(          ypos\))Tj
T*
(     NIL NIL \(QUOTE INPUT\))Tj
T*
(     \(QUOTE PAINT])Tj
/F1 1 Tf
-3.6 -1.823 TD
(Thatís all the functions!)Tj
/TT4 1 Tf
14 0 0 14 54 173.62 Tm
(Running the Functions)Tj
ET
54.01 170.03 m
534.01 170.03 l
S
BT
/F1 1 Tf
10 0 0 10 126 141.8 Tm
(To run the functions you just typed in, first set a variable to a window by typing)Tj
0 -1.2 TD
(something like)Tj
/TT6 1 Tf
3.6 -1.777 TD
(\(SETQ EXAMPLE.WINDOW \(CREATEW\)\))Tj
/F1 1 Tf
-3.6 -2.023 TD
(into the Executive Window, and sweeping out a new window. Now, set a variable to a)Tj
0 -1.2 TD
(bitmap, by typing, perhaps,)Tj
/TT6 1 Tf
3.6 -1.777 TD
(\(SETQ EXAMPLE.BTM \(EDITBM\)\))Tj
ET
endstream
endobj
22 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/F1 4 0 R
/TT2 6 0 R
/TT4 7 0 R
/TT6 8 0 R
>>
/ExtGState <<
/GS1 9 0 R
>>
>>
endobj
24 0 obj
<<
/Length 1154
>>
stream
BT
/TT2 1 Tf
10 0 0 10 54 15 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(23-6)Tj
ET
0 G
0 J 0 j 1 w 10 M []0 d
1 i 
54.01 27.5 m
558.01 27.5 l
S
BT
10 0 0 10 402.38 17.21 Tm
(Medley for the Novice, Release 2.0)Tj
/F1 1 Tf
-34.838 74.479 TD
( )Tj
/TT2 1 Tf
0.278 0 TD
(23.  SIMPLE INTERACTIONS WITH CURSOR, BITMAP, AND WINDOW)Tj
ET
54.01 759.23 m
558.01 759.23 l
S
BT
/F1 1 Tf
10 0 0 10 126 730.26 Tm
(Type)Tj
/TT6 1 Tf
3.6 -1.777 TD
(\(Estab1ish/Trace/Data EXAMPLE.WINDOW EXAMPLE.BTM\)\))Tj
/F1 1 Tf
-3.6 -2.023 TD
(When you move the cursor into the window, the cursor will drag the bitmap.)Tj
0 -1.9 TD
(\(If you want to be able to make menu selections while tracing the cursor, make sure)Tj
0 -1.2 TD
(that the hotspot of the cursor is set to the extreme right of the bitmap. Otherwise, the)Tj
T*
(menu will be destroyed by the )Tj
/TT6 1 Tf
14.132 0 TD
(BITBLT)Tj
/F1 1 Tf
3.6006 0 TD
(s of the trace functions.\))Tj
-17.7326 -2.023 TD
(To stop tracing, do one of the following:)Tj
0 -1.9 TD
[()-594(Move the mouse cursor out of the window)]TJ
T*
[( )-316(Press the right mouse button)]TJ
T*
[()-594(Call the function )]TJ
/TT6 1 Tf
9.256 0 TD
(UNTRACE/CURSOR)Tj
ET
endstream
endobj
25 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/F1 4 0 R
/TT2 6 0 R
/TT6 8 0 R
>>
/ExtGState <<
/GS1 9 0 R
>>
>>
endobj
9 0 obj
<<
/Type /ExtGState
/SA false
/SM 0.02
/OP false
/op false
/OPM 1
/BG2 /Default
/UCR2 /Default
/HT /Default
/TR2 /Default
>>
endobj
26 0 obj
<<
/Type /FontDescriptor
/Ascent 770
/CapHeight 718
/Descent -229
/Flags 32
/FontBBox [-166 -225 1000 931]
/FontName /Helvetica
/ItalicAngle 0
/StemV 88
/XHeight 523
/StemH 88
>>
endobj
27 0 obj
<<
/Type /FontDescriptor
/Ascent 770
/CapHeight 718
/Descent -229
/Flags 262176
/FontBBox [-170 -228 1003 962]
/FontName /Helvetica-Bold
/ItalicAngle 0
/StemV 133
/XHeight 532
/StemH 140
>>
endobj
28 0 obj
<<
/Type /FontDescriptor
/Ascent 753
/CapHeight 562
/Descent -246
/Flags 35
/FontBBox [-28 -250 628 805]
/FontName /Courier
/ItalicAngle 0
/StemV 51
/XHeight 426
/StemH 51
>>
endobj
29 0 obj
<<
/Type /FontDescriptor
/Ascent 737
/CapHeight 722
/Descent -205
/Flags 34
/FontBBox [-195 -250 1000 965]
/FontName /NewCenturySchlbk-Roman
/ItalicAngle 0
/StemV 92
/XHeight 464
/StemH 45
>>
endobj
30 0 obj
<<
/Type /FontDescriptor
/Ascent 737
/CapHeight 722
/Descent -205
/Flags 98
/FontBBox [-166 -250 994 958]
/FontName /NewCenturySchlbk-Italic
/ItalicAngle -16
/StemV 80
/XHeight 466
/StemH 45
>>
endobj
4 0 obj
<<
/Type /Font
/Subtype /Type1
/FirstChar 32
/LastChar 146
/Widths [278 296 389 556 556 833 815 204 333 333 500 606 278 333 278 278 
556 556 556 556 556 556 556 556 556 556 278 278 606 606 606 444 
737 722 722 722 778 722 667 778 833 407 556 778 667 944 815 778 
667 778 722 630 667 815 722 981 704 704 611 333 606 333 606 500 
333 556 556 444 574 500 333 537 611 315 296 593 315 889 611 500 
574 556 444 463 389 611 537 778 537 537 481 333 606 333 606 606 
0 606 204 556 389 1000 500 500 333 1000 630 259 1000 606 611 606 
606 204 204 ]
/Encoding /WinAnsiEncoding
/BaseFont /NewCenturySchlbk-Roman
/FontDescriptor 29 0 R
>>
endobj
5 0 obj
<<
/Type /Font
/Subtype /Type1
/FirstChar 32
/LastChar 119
/Widths [278 333 400 556 556 833 852 278 333 333 500 606 278 333 278 606 
556 556 556 556 556 556 556 556 556 556 278 278 606 606 606 444 
747 704 722 722 778 722 667 778 833 407 611 741 667 944 815 778 
667 778 741 667 685 815 704 926 704 685 667 333 606 333 606 500 
333 574 556 444 611 444 333 537 611 333 315 556 333 889 611 500 
574 556 444 444 352 611 519 778 ]
/Encoding /WinAnsiEncoding
/BaseFont /NewCenturySchlbk-Italic
/FontDescriptor 30 0 R
>>
endobj
6 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 121
/Widths [278 0 0 0 0 0 0 0 0 0 0 0 278 333 278 0 
556 556 556 556 556 556 556 0 0 0 0 0 0 0 0 0 
0 667 667 722 722 667 0 0 722 278 0 0 556 833 722 778 
667 0 722 667 611 722 0 944 0 0 0 0 0 0 0 0 
0 556 0 500 556 556 278 0 556 222 0 0 222 0 0 556 
0 0 333 500 278 0 500 0 0 500 ]
/Encoding /WinAnsiEncoding
/BaseFont /Helvetica
/FontDescriptor 26 0 R
>>
endobj
7 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 120
/Widths [278 0 0 0 0 0 0 0 0 0 0 0 278 0 278 0 
0 0 556 556 0 0 0 0 0 0 0 0 0 0 0 0 
0 722 722 722 722 667 611 778 722 278 0 0 611 833 722 778 
667 0 722 667 611 722 0 944 0 0 0 0 0 0 0 0 
0 556 0 556 611 556 333 611 611 278 0 0 278 889 611 611 
611 0 389 556 333 611 556 0 556 ]
/Encoding /WinAnsiEncoding
/BaseFont /Helvetica-Bold
/FontDescriptor 27 0 R
>>
endobj
8 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 146
/Widths [600 0 600 0 0 0 0 0 600 600 600 0 600 600 600 600 
600 600 600 0 600 0 600 0 0 0 600 600 0 0 0 0 
0 600 600 600 600 600 600 600 600 600 0 600 600 600 600 600 
600 600 600 600 600 600 600 600 600 600 0 600 0 600 0 0 
0 600 600 600 600 600 600 600 600 600 0 600 600 600 600 600 
600 0 600 600 600 600 600 600 600 600 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 600 ]
/Encoding /WinAnsiEncoding
/BaseFont /Courier
/FontDescriptor 28 0 R
>>
endobj
1 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources 3 0 R
/Contents 2 0 R
>>
endobj
11 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources 13 0 R
/Contents 12 0 R
>>
endobj
14 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources 16 0 R
/Contents 15 0 R
>>
endobj
17 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources 19 0 R
/Contents 18 0 R
>>
endobj
20 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources 22 0 R
/Contents 21 0 R
>>
endobj
23 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources 25 0 R
/Contents 24 0 R
>>
endobj
31 0 obj
<<
/S /D
>>
endobj
32 0 obj
<<
/Nums [0 31 0 R ]
>>
endobj
10 0 obj
<<
/Type /Pages
/Kids [1 0 R 11 0 R 14 0 R 17 0 R 20 0 R 23 0 R]
/Count 6
/MediaBox [0 0 612 792]
>>
endobj
33 0 obj
<<
/CreationDate (D:20201212223941-07'00')
/ModDate (D:20201212223941-07'00')
/Producer (PSNormalizer.framework)
>>
endobj
34 0 obj
<<
/Type /Catalog
/Pages 10 0 R
/PageLabels 32 0 R
>>
endobj
xref
0 35
0000000000 65535 f 
0000022895 00000 n 
0000000016 00000 n 
0000004400 00000 n 
0000020329 00000 n 
0000020969 00000 n 
0000021499 00000 n 
0000021930 00000 n 
0000022366 00000 n 
0000019179 00000 n 
0000023464 00000 n 
0000022976 00000 n 
0000004537 00000 n 
0000008313 00000 n 
0000023060 00000 n 
0000008451 00000 n 
0000011682 00000 n 
0000023144 00000 n 
0000011799 00000 n 
0000014863 00000 n 
0000023228 00000 n 
0000014980 00000 n 
0000017727 00000 n 
0000023312 00000 n 
0000017855 00000 n 
0000019062 00000 n 
0000019319 00000 n 
0000019514 00000 n 
0000019720 00000 n 
0000019911 00000 n 
0000020119 00000 n 
0000023396 00000 n 
0000023424 00000 n 
0000023581 00000 n 
0000023713 00000 n 
trailer
<<
/Size 35
/Root 34 0 R
/Info 33 0 R
/ID [<f61ef1d1b81844d43536756b9a4b8072><f61ef1d1b81844d43536756b9a4b8072>]
>>
startxref
23783
%%EOF
